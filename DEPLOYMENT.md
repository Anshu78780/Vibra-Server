# ðŸš€ Deploy to Render - Quick Guide

## Prerequisites
- GitHub/GitLab account
- Render account (free tier available)

## Step-by-Step Deployment

### 1. Prepare Your Repository
```bash
# Initialize git repository
git init

# Add all files
git add .

# Commit changes
git commit -m "Initial commit - Music Backend API"

# Add your GitHub repository as remote
git remote add origin https://github.com/yourusername/music-backend.git

# Push to GitHub
git push -u origin main
```

### 2. Deploy on Render

1. **Go to Render**: Visit [render.com](https://render.com)
2. **Sign Up/Login**: Use your GitHub account for easy integration
3. **Create Web Service**:
   - Click "New" â†’ "Web Service"
   - Connect your GitHub repository
   - Select your music backend repository

4. **Configure Service**:
   ```
   Name: music-backend-api (or your preferred name)
   Environment: Python 3
   Build Command: ./build.sh
   Start Command: ./start.sh
   ```

5. **Set Environment Variables**:
   ```
   FLASK_DEBUG=False
   LOG_LEVEL=INFO
   CORS_ORIGINS=*
   SECRET_KEY=<auto-generated>
   ```

6. **Deploy**: Click "Create Web Service"

### 3. Wait for Deployment
- Render will build and deploy your app
- This takes 5-10 minutes for the first deployment
- Your app will be available at: `https://your-app-name.onrender.com`

### 4. Verify Deployment
```bash
# Test your deployed API
python verify_deployment.py https://your-app-name.onrender.com
```

## Important Notes

### Free Tier Limitations
- Service sleeps after 15 minutes of inactivity
- First request after sleep takes ~30 seconds to wake up
- 750 hours/month free usage

### Production Considerations
- Upgrade to paid plan for always-on service
- Set up monitoring and alerts
- Configure custom domain if needed
- Enable auto-deploy from main branch

### Environment Variables
The app automatically uses these Render environment variables:
- `PORT` - Automatically set by Render
- `SECRET_KEY` - Generate a secure random key
- `FLASK_DEBUG` - Set to `False` for production

## API Endpoints
After deployment, your API will be available at:
- Health Check: `GET /health`
- Search Songs: `GET /search?q=<query>&limit=<num>`
- Homepage Data: `GET /homepage?limit=<num>`
- Categories: `GET /category/<category>?limit=<num>`
- Audio URL: `GET /audio/<video_id>`

## Troubleshooting

### Build Fails
- Check Render build logs
- Ensure all dependencies are in `requirements.txt`
- Verify Python version compatibility

### Service Won't Start
- Check start command in `start.sh`
- Verify `gunicorn` is installed
- Check environment variables

### API Errors
- Check Render service logs
- Test endpoints with `/health` first
- Verify YTMusic API is working

## Support
- Render Documentation: [render.com/docs](https://render.com/docs)
- GitHub Issues: Create an issue in your repository
- Render Community: [community.render.com](https://community.render.com)
